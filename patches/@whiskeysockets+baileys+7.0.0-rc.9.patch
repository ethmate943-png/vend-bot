diff --git a/node_modules/@whiskeysockets/baileys/lib/Utils/process-message.js b/node_modules/@whiskeysockets/baileys/lib/Utils/process-message.js
index 7927483..7c9ebf7 100644
--- a/node_modules/@whiskeysockets/baileys/lib/Utils/process-message.js
+++ b/node_modules/@whiskeysockets/baileys/lib/Utils/process-message.js
@@ -360,14 +360,15 @@ const processMessage = async (message, { shouldProcessHistoryMsg, placeholderRes
             });
         };
         const participantsIncludesMe = () => participants.find(jid => areJidsSameUser(meId, jid.phoneNumber)); // ADD SUPPORT FOR LID
+        const safeParseStubParams = (arr) => (arr || []).map((a) => { try { return JSON.parse(a); } catch (_) { console.warn('[VendBot] Baileys: skipped malformed offline stub (invalid JSON) â€” safe to ignore'); return null; } }).filter(Boolean);
         switch (message.messageStubType) {
             case WAMessageStubType.GROUP_PARTICIPANT_CHANGE_NUMBER:
-                participants = message.messageStubParameters.map((a) => JSON.parse(a)) || [];
+                participants = safeParseStubParams(message.messageStubParameters);
                 emitParticipantsUpdate('modify');
                 break;
             case WAMessageStubType.GROUP_PARTICIPANT_LEAVE:
             case WAMessageStubType.GROUP_PARTICIPANT_REMOVE:
-                participants = message.messageStubParameters.map((a) => JSON.parse(a)) || [];
+                participants = safeParseStubParams(message.messageStubParameters);
                 emitParticipantsUpdate('remove');
                 // mark the chat read only if you left the group
                 if (participantsIncludesMe()) {
@@ -377,18 +378,18 @@ const processMessage = async (message, { shouldProcessHistoryMsg, placeholderRes
             case WAMessageStubType.GROUP_PARTICIPANT_ADD:
             case WAMessageStubType.GROUP_PARTICIPANT_INVITE:
             case WAMessageStubType.GROUP_PARTICIPANT_ADD_REQUEST_JOIN:
-                participants = message.messageStubParameters.map((a) => JSON.parse(a)) || [];
+                participants = safeParseStubParams(message.messageStubParameters);
                 if (participantsIncludesMe()) {
                     chat.readOnly = false;
                 }
                 emitParticipantsUpdate('add');
                 break;
             case WAMessageStubType.GROUP_PARTICIPANT_DEMOTE:
-                participants = message.messageStubParameters.map((a) => JSON.parse(a)) || [];
+                participants = safeParseStubParams(message.messageStubParameters);
                 emitParticipantsUpdate('demote');
                 break;
             case WAMessageStubType.GROUP_PARTICIPANT_PROMOTE:
-                participants = message.messageStubParameters.map((a) => JSON.parse(a)) || [];
+                participants = safeParseStubParams(message.messageStubParameters);
                 emitParticipantsUpdate('promote');
                 break;
             case WAMessageStubType.GROUP_CHANGE_ANNOUNCE:
